{"version":3,"file":"js/Users_Rights_Roles.a29b1a98.js","mappings":"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","sources":["webpack://vue-shop/./src/components/power/Rights.vue","webpack://vue-shop/src/components/power/Rights.vue","webpack://vue-shop/./src/components/power/Rights.vue?19eb","webpack://vue-shop/./src/components/power/Rights.vue?122c","webpack://vue-shop/./src/components/power/Roles.vue","webpack://vue-shop/src/components/power/Roles.vue","webpack://vue-shop/./src/components/power/Roles.vue?fd0e","webpack://vue-shop/./src/components/power/Roles.vue?a0df","webpack://vue-shop/./src/components/user/Users.vue","webpack://vue-shop/src/components/user/Users.vue","webpack://vue-shop/./src/components/user/Users.vue?939f","webpack://vue-shop/./src/components/user/Users.vue?a8d0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"权限列表\")])],1),_c('el-card',[_c('el-table',{attrs:{\"data\":_vm.rightsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"# \"}}),_c('el-table-column',{attrs:{\"label\":\"权限名称\",\"prop\":\"authName\"}}),_c('el-table-column',{attrs:{\"label\":\"路径\",\"prop\":\"path\"}}),_c('el-table-column',{attrs:{\"label\":\"权限等级\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.level==='0')?_c('el-tag',[_vm._v(\"一级\")]):(scope.row.level==='1')?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"二级\")]):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"三级\")])]}}])})],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template > \r\n    <div>\r\n        <!-- 面包屑导航区域 -->\r\n        <el-breadcrumb separator=\"/\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>权限列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <!-- 卡片视图区域 -->\r\n        <el-card >\r\n           <el-table :data=\"rightsList\" border  stripe>\r\n              <el-table-column type=\"index\" label=\"# \"></el-table-column>\r\n            <el-table-column  label=\"权限名称\"  prop=\"authName\" ></el-table-column>\r\n            <el-table-column  label=\"路径\" prop=\"path\" ></el-table-column>\r\n            <el-table-column  label=\"权限等级\"  >\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag v-if=\"scope.row.level==='0'\">一级</el-tag>\r\n                    <el-tag type=\"success\" v-else-if=\"scope.row.level==='1'\">二级</el-tag>\r\n                    <el-tag type=\"warning\" v-else>三级</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n             </el-table>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n<script>\r\n   export default {\r\n    data(){\r\n        return {\r\n            // 权限列表 数组\r\n            rightsList:[]\r\n        }\r\n    },\r\n    created(){\r\n        this.getRightsList()\r\n    },\r\n    methods:{\r\n        // 获取权限列表\r\n        async getRightsList(){\r\n         const {data:res}=  await this.$http.get('rights/list')\r\n        if(res.meta.status!=200) return this.$message.error('获取权限列表失败')\r\n         this.$message.success('获取权限列表成功')\r\n            this.rightsList=res.data\r\n         console.log(this.rightsList)\r\n        }\r\n    }\r\n   }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    \r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Rights.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rights.vue?vue&type=template&id=9e4783c2&scoped=true&\"\nimport script from \"./Rights.vue?vue&type=script&lang=js&\"\nexport * from \"./Rights.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e4783c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"权限管理\")]),_c('el-breadcrumb-item',[_vm._v(\"角色列表\")])],1),_c('el-card',[_c('el-row',[_c('el-col',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addRolesDialogVisible=true}}},[_vm._v(\" 添加角色\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.rolesList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,i1){return _c('el-row',{key:item1.id,class:['bdbottom', i1===0 ?'bdtop':'','vcenter']},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row,item1.id)}}},[_vm._v(\" \"+_vm._s(item1.authName)+\" \")]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,i2){return _c('el-row',{key:item2.id,class:[i2===0?'':'bdtop','vcenter']},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row,item2.id)}}},[_vm._v(_vm._s(item2.authName))]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3,i3){return _c('el-tag',{key:item3.id,class:[i3===0?'':'bdtop'],attrs:{\"type\":\"warning\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row,item3.id)}}},[_vm._v(\" \"+_vm._s(item3.authName)+\" \")])}),1)],1)}),1)],1)})}}])}),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"# \"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.removeRolesById(scope.row.id)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"icon\":\"el-icon-setting\"},on:{\"click\":function($event){return _vm.showSetRightDialog(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加角色\",\"visible\":_vm.addRolesDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addRolesDialogVisible=$event},\"close\":_vm.addRolesFormClosed}},[_c('el-form',{ref:\"addRolesFormRef\",attrs:{\"model\":_vm.addRolesForm,\"rules\":_vm.addRolesFormRules,\"label-width\":\"90px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{model:{value:(_vm.addRolesForm.roleName),callback:function ($$v) {_vm.$set(_vm.addRolesForm, \"roleName\", $$v)},expression:\"addRolesForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.addRolesForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.addRolesForm, \"roleDesc\", $$v)},expression:\"addRolesForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addRolesDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRoles}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editRolesDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editRolesDialogVisible=$event},\"close\":_vm.editRolesFormClosed}},[_c('el-form',{ref:\"editRolesFormRef\",attrs:{\"model\":_vm.editRolesForm,\"rules\":_vm.editRolesFormRules,\"label-width\":\"90px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editRolesForm.roleName),callback:function ($$v) {_vm.$set(_vm.editRolesForm, \"roleName\", $$v)},expression:\"editRolesForm.roleName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}},[_c('el-input',{model:{value:(_vm.editRolesForm.roleDesc),callback:function ($$v) {_vm.$set(_vm.editRolesForm, \"roleDesc\", $$v)},expression:\"editRolesForm.roleDesc\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editRolesDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRolesInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.setRightDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRightDialogVisible=$event},\"close\":_vm.setRightDialogClosed}},[_c('el-tree',{ref:\"treeRef\",attrs:{\"data\":_vm.rightList,\"props\":_vm.treeProps,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"default-checked-keys\":_vm.defKeys}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRightDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.allotRights}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template >\r\n    <div>\r\n        <!-- 面包屑导航区域 -->\r\n        <el-breadcrumb separator=\"/\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>权限管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n        <!-- 卡片视图 -->\r\n        <el-card>\r\n            <!-- 添加角色 独占一行 -->\r\n            <el-row><el-col><el-button type=\"primary\" @click=\"addRolesDialogVisible=true\"> 添加角色</el-button></el-col></el-row>\r\n            <!-- 列表区域 -->\r\n            <el-table :data=\"rolesList\" border  stripe>\r\n                <!-- 设置为展开列 -->\r\n                <el-table-column type=\"expand\" >\r\n                    <template slot-scope=\"scope\">\r\n                        <!-- el-row 下分两列 第一列为一级权限 第二列用于存放二级和三级权限  二级和三级权限都在一列 所以把第二列再拆分为两列 其中的第一列放二级权限 第二列放三级权限 -->\r\n                        <el-row  :class=\"['bdbottom', i1===0 ?'bdtop':'','vcenter']\" v-for=\"( item1 , i1 ) in scope.row.children\" :key=\"item1.id\" >  \r\n                            <!-- 用于渲染一级权限 -->\r\n                            <el-col :span=\"5\">\r\n                                <el-tag closable @close=\"removeRightById(scope.row,item1.id)\"> {{ item1.authName }} </el-tag><i class=\"el-icon-caret-right\"></i>\r\n                            </el-col>\r\n                            <!-- 用于渲染二级和三级权限 -->\r\n                            <el-col :span=\"19\">\r\n                                <!-- 用于二级权限渲染  通过循环 一级权限下的children来渲染二级权限-->\r\n                                <el-row v-for=\"(item2,i2) in item1.children\" :key=\"item2.id\" :class=\"[i2===0?'':'bdtop','vcenter']\"  >\r\n                                    <el-col :span=\"6\">\r\n                                        <el-tag type=\"success\" closable @close=\"removeRightById(scope.row,item2.id)\">{{ item2.authName }}</el-tag>\r\n                                        <i class=\"el-icon-caret-right\"></i>\r\n                                    </el-col>\r\n                                    <el-col :span=\"18\">\r\n                                        <!--  通过二级权限的children循环来渲染三级权限 -->\r\n                                        <el-tag type=\"warning\" v-for=\"(item3,i3) in item2.children\" :key=\"item3.id\"  :class=\"[i3===0?'':'bdtop']\" closable @close=\"removeRightById(scope.row,item3.id)\">\r\n                                            {{ item3.authName }}\r\n                                        </el-tag>\r\n                                    </el-col>\r\n                                </el-row>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </template>\r\n                </el-table-column>\r\n                <!-- 索引列 -->\r\n                <el-table-column type=\"index\" label=\"# \"></el-table-column>\r\n                <el-table-column  label=\"角色名称\"  prop=\"roleName\" ></el-table-column>\r\n                <el-table-column  label=\"角色描述\" prop=\"roleDesc\" ></el-table-column>\r\n                <el-table-column  label=\"操作\" width=\"300px\">\r\n                <template slot-scope=\"scope\"> \r\n                    <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-edit\" @click=\"showEditDialog(scope.row.id)\">编辑</el-button>\r\n                    <el-button size=\"mini\" type=\"danger\" icon=\"el-icon-delete\" @click=\"removeRolesById(scope.row.id)\">删除</el-button>\r\n                    <el-button size=\"mini\" type=\"warning\" icon=\"el-icon-setting\" @click=\"showSetRightDialog(scope.row)\">分配权限</el-button> \r\n                </template>\r\n              </el-table-column>\r\n               </el-table>\r\n        </el-card>\r\n            <!-- 弹出添加角色对话框 -->\r\n                <el-dialog title=\"添加角色\" :visible.sync=\"addRolesDialogVisible\"  width=\"50%\" @close=\"addRolesFormClosed\" >\r\n                <!-- 主体对话框 -->\r\n                <el-form ref=\"addRolesFormRef\" :model=\"addRolesForm\" :rules=\"addRolesFormRules\" label-width=\"90px\">\r\n                    <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n                    <el-input v-model=\"addRolesForm.roleName\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n                            <el-input  v-model=\"addRolesForm.roleDesc\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addRolesDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addRoles\">确 定</el-button>\r\n                </span>\r\n            </el-dialog>\r\n      \r\n            <!-- 弹出修改用户对话框 -->\r\n            <el-dialog title=\"修改用户\" :visible.sync=\"editRolesDialogVisible\" width=\"50%\" @close=\"editRolesFormClosed\">\r\n                <!-- 内容主题区域:表单 -->\r\n                <el-form :model=\"editRolesForm\" :rules=\"editRolesFormRules\" ref=\"editRolesFormRef\" label-width=\"90px\" >\r\n                    <el-form-item label=\"角色名称\" prop=\"roleName\" >\r\n                        <el-input v-model=\"editRolesForm.roleName\" disabled></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"角色描述\" prop=\"roleDesc\">\r\n                            <el-input  v-model=\"editRolesForm.roleDesc\"></el-input>\r\n                        </el-form-item>\r\n                </el-form>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"editRolesDialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"editRolesInfo\">确 定</el-button>\r\n            </span>\r\n            </el-dialog>\r\n            \r\n            <!-- 弹出分配权限对话框 -->\r\n            <el-dialog title=\"分配权限\" :visible.sync=\"setRightDialogVisible\" width=\"50%\" @close=\"setRightDialogClosed\">\r\n                <!-- 内容主题区域:表单 -->\r\n                <!-- default-checked-keys 绑定数组 需要动态绑定 鬼shi -->\r\n                <el-tree :data=\"rightList\" :props=\"treeProps\"  show-checkbox node-key=\"id\" default-expand-all :default-checked-keys=\"defKeys\" ref=\"treeRef\"></el-tree>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"setRightDialogVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"allotRights\">确 定</el-button>\r\n            </span>\r\n            </el-dialog>\r\n            \r\n\r\n    </div>\r\n</template>\r\n<script>\r\n export default {\r\n    data(){\r\n        return {\r\n            // 角色列表数据\r\n            rolesList:[],\r\n            addRolesDialogVisible:false,\r\n            editRolesDialogVisible:false,\r\n            setRightDialogVisible : false,\r\n            addRolesForm:{\r\n                roleName:'',                \r\n                roleDesc:'',                \r\n            },\r\n            addRolesFormRules:{\r\n                roleName:[\r\n                    { required: true, message: '请输入角色名称', trigger: 'blur' },\r\n                ],\r\n                roleDesc:[\r\n                    { required: true, message: '请输入角色描述', trigger: 'blur' },\r\n                ]\r\n            },\r\n             // 查询到的用户数据对象\r\n            editRolesForm:{},\r\n            editRolesFormRules:{\r\n                roleName:[\r\n                    { required: true, message: '请输入角色名称', trigger: 'blur' },\r\n                ],\r\n                roleDesc:[\r\n                    { required: true, message: '请输入角色描述', trigger: 'blur' },\r\n                ]\r\n            },\r\n            // 获取权限数据\r\n            rightList:[],\r\n            treeProps:{\r\n                label:\"authName\",\r\n                children:'children'\r\n            },\r\n            // tree选中项在此被添加 默认展开的节点的 key 的数组\r\n            defKeys:[],\r\n            // 即将分配权限的id\r\n            roleId:''\r\n        }\r\n    },\r\n    created(){\r\n        this.getRolesList()\r\n    },\r\n    methods:{\r\n        async getRolesList(){\r\n                const {data:res}=  await this.$http.get('roles')\r\n                if(res.meta.status!=200) return this.$message.error('获取角色列表失败')\r\n                this.rolesList=res.data\r\n            },\r\n     \r\n        //  点击确认 添加角色\r\n         addRoles(){\r\n            this.$refs.addRolesFormRef.validate( async (vaild)=>{\r\n              if (!vaild) return ;\r\n                // 预校验成功，发起正式的网络请求 \r\n                const {data:res}= await this.$http.post('roles',this.addRolesForm)\r\n                console.log(res)\r\n                if (res.meta.status!=201) return this.$message.error('添加角色失败')\r\n                this.$message.success('添加角色成功')\r\n                // 关闭对话框  addRolesFormRef\r\n                this.addRolesDialogVisible=false\r\n                // 重新渲染用户列表\r\n                this.getRolesList()\r\n            })\r\n        },\r\n        // 监听关闭添加对话框事件\r\n        addRolesFormClosed(){\r\n            this.$refs.addRolesFormRef.resetFields()\r\n        },\r\n            // 显示修改对话框\r\n        async showEditDialog(id){\r\n            const {data:res} =await this.$http.get('roles/'+id)\r\n                    if (res.meta.status!=200) return this.$message.error('修改用户失败')\r\n                    this.$message.success('修改用户成功')\r\n                    this.editRolesForm= res.data\r\n            this.editRolesDialogVisible=true;\r\n        },\r\n         // 监听关闭修改对话框事件\r\n        editRolesFormClosed(){\r\n            this.$refs.editRolesFormRef.resetFields()\r\n        },  \r\n                  // 提交修改后的结果\r\n        editRolesInfo(){\r\n            this.$refs.editRolesFormRef.validate(async (valid)=>{\r\n                if (!valid) return;\r\n                // 预验证完成\r\n                const {data:res}= await  this.$http.put('roles/'+this.editRolesForm.roleId,{\r\n                roleName:this.editRolesForm.roleName,\r\n                roleDesc:this.editRolesForm.roleDesc\r\n                })\r\n                if (res.meta.status!=200) return this.$message.error('更新用户失败');\r\n                // 关闭对话框\r\n                this.editRolesDialogVisible=false\r\n                // 更新数据\r\n                this.getRolesList()\r\n                // 弹出更新成功数据\r\n                this.$message.success('更新用户成功')\r\n      })\r\n        },\r\n          // 删除该角色\r\n        async removeRolesById(id){\r\n                const confirmResult= await this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n                        confirmButtonText: '确定',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning'\r\n                    }).catch(err => err )\r\n                // 确认删除 返回值为confirm \r\n                // 取消删除 返回值为cancel \r\n                if (confirmResult!=='confirm' ){\r\n                return this.$message.info('已取消删除');\r\n                }\r\n                const {data:res}=await   this.$http.delete('roles/'+id)\r\n                if (res.meta.status!=200) return this.$message.error('删除角色失败')\r\n                this.$message.success('删除角色成功')\r\n                // 重新渲染用户列表\r\n                this.getRolesList()     \r\n        },\r\n            // 删除权限\r\n        async removeRightById(role,rightId){\r\n                const confirmResult= await this.$confirm('此操作将永久删除该权限, 是否继续?', '提示', {\r\n                        confirmButtonText: '确定',\r\n                        cancelButtonText: '取消',\r\n                        type: 'warning'\r\n                    }).catch(err => err )\r\n                // 确认删除 返回值为confirm \r\n                // 取消删除 返回值为cancel \r\n                if (confirmResult!=='confirm' ){\r\n                return this.$message.info('已取消删除');\r\n                }\r\n                // role==scope.row 含角色id  rightId==item3.id 是权限的id\r\n                const {data:res}=await   this.$http.delete(`roles/${role.id}/rights/${rightId}`)\r\n                if (res.meta.status!=200) return this.$message.error('删除权限失败')\r\n                // 重新渲染用户列表 展开页会被合上 \r\n                // this.getRolesList()\r\n                // 对权限重新赋值 不会合上展开页\r\n                role.children=res.data \r\n        },\r\n            //  展示分配权限\r\n        async showSetRightDialog(role){\r\n                this.roleId=role.id\r\n                const {data:res} =await this.$http.get('rights/tree')\r\n                    if (res.meta.status!=200) return this.$message.error('获取权限数据失败')\r\n                    this.$message.success('获取权限数据成功')\r\n                    this.rightList= res.data\r\n                    console.log(this.rightList)\r\n                    // 递归获取三级节点id\r\n                    this.getLeafKeys(role,this.defKeys)\r\n                     this.setRightDialogVisible=true\r\n             },\r\n         //通过递归的方式把三级权限的id添加到数组中\r\n         getLeafKeys(node,arr){\r\n                // 如果是三级权限 则添加id\r\n                if(!node.children){\r\n                    return arr.push(node.id)\r\n                }\r\n                // 循环每一个的下级权限 \r\n                node.children.forEach(item =>this.getLeafKeys(item,arr));\r\n         },\r\n            //  清空defkeys之前的数据内容\r\n        setRightDialogClosed(){\r\n            this.defKeys=[]\r\n         },\r\n        async allotRights(){\r\n                // 数组\r\n                const keys=[...this.$refs.treeRef.getCheckedKeys(),...this.$refs.treeRef.getHalfCheckedKeys()]\r\n                // 字符串\r\n                const keyStr=keys.join(',')\r\n                const {data:res} =await   this.$http.post(`roles/${this.roleId}/rights`,{rids:keyStr})\r\n                if (res.meta.status!=200) return this.$message.error('更新用户权限失败')\r\n                this.$message.success('更新用户权限成功')\r\n                  // 重新渲染用户列表\r\n                  this.getRolesList()\r\n                this.setRightDialogVisible = false\r\n        }\r\n        }\r\n }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-tag{\r\n    margin: 7px;\r\n}\r\n//边框线 分别是头部 和底部\r\n.bdtop{\r\n    border-top: 1px solid #eee;\r\n}\r\n.bdbottom{\r\n    border-bottom: 1px solid #eee;\r\n\r\n}\r\n//用于居中对齐\r\n.vcenter{\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roles.vue?vue&type=template&id=0a3adfbc&scoped=true&\"\nimport script from \"./Roles.vue?vue&type=script&lang=js&\"\nexport * from \"./Roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Roles.vue?vue&type=style&index=0&id=0a3adfbc&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a3adfbc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible=true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.userList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"# \"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}}),_c('el-table-column',{attrs:{\"label\":\"电话\",\"prop\":\"mobile\"}}),_c('el-table-column',{attrs:{\"label\":\"角色\",\"prop\":\"role_name\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.userStatusChange(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.setRole(scope.row)}}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addFormClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event}}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.editFormRules,\"label-width\":\"70px\"},on:{\"close\":_vm.editFormClosed}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setRoleDialogClosed}},[_c('div',[_c('p',[_vm._v(\"当前用户:\"+_vm._s(_vm.userInfo.username))]),_c('p',[_vm._v(\"当前角色:\"+_vm._s(_vm.userInfo.role_name))]),_c('p',[_vm._v(\"分配新角色 \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedRoles),callback:function ($$v) {_vm.selectedRoles=$$v},expression:\"selectedRoles\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleInfo}},[_vm._v(\"确 定\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template id=\"temp\"> <!-- vue实例外创建 -->\r\n    <div>\r\n        <!-- 面包屑导航区域 -->\r\n        <el-breadcrumb separator=\"/\">\r\n            <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>用户列表</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n         <!-- 卡片视图区域 -->\r\n        <el-card>\r\n              <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\">\r\n                        <!-- v-model 双向绑定query (姓名)  clear able 可以用于情况文本框-->\r\n                        <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"getUserList\">\r\n                    <!-- 单击 获取数据 -->\r\n                    <el-button slot=\"append\" icon=\"el-icon-search\"  @click=\"getUserList\" ></el-button >\r\n                      </el-input>\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                    <!-- 添加单击事件 令addDialogVisible=true使dialog显示 -->\r\n                    <el-button type=\"primary\" @click=\"addDialogVisible=true\">添加用户</el-button>\r\n                </el-col>\r\n              \r\n              </el-row>\r\n              <!-- 用户列表区域 -->\r\n              <el-table :data=\"userList\" border stripe>\r\n              <el-table-column type=\"index\" label=\"# \"></el-table-column>\r\n              <el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\r\n              <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\r\n              <el-table-column label=\"电话\" prop=\"mobile\"></el-table-column>\r\n              <el-table-column label=\"角色\" prop=\"role_name\"></el-table-column>\r\n              <el-table-column label=\"状态\" >\r\n                <template slot-scope=\"scope\">\r\n                    <!-- 作用于插槽存在会覆盖prop -->\r\n                    <!-- 需要对状态进行监听 返回到后台数据库中 以防前端修改 刷新后失效   传入的scope.row 就是用户个人信息-->\r\n                    <el-switch  v-model=\"scope.row.mg_state\" @change=\"userStatusChange(scope.row)\"></el-switch>\r\n                  </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"操作\"  width=\"180px\">\r\n                <template slot-scope=\"scope\">\r\n                    <!-- 修改 -->\r\n                    <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.id)\"></el-button>\r\n                    <!-- 删除 -->\r\n                    <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeUserById(scope.row.id)\"></el-button>\r\n                    <el-tooltip  effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable=\"false\">\r\n                        <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" @click=\"setRole(scope.row)\"></el-button>\r\n                    </el-tooltip>\r\n\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <!-- 分页区域 -->\r\n            <el-pagination  @size-change=\"handleSizeChange\"  @current-change=\"handleCurrentChange\"  :current-page=\"queryInfo.pagenum\" :page-sizes=\"[1, 2, 5, 10]\"  :page-size=\"queryInfo.pagesize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n          </el-pagination>\r\n        </el-card>\r\n\r\n\r\n      <!-- 弹出添加用户对话框区域 -->\r\n      <el-dialog  title=\"添加用户\" :visible.sync=\"addDialogVisible\" width=\"30%\" @close=\"addFormClosed\">\r\n     \r\n        <!-- 内容主题区域 -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\"   >\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <!-- 确认 取消按钮区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 弹出修改用户对话框 -->\r\n    <el-dialog title=\"修改用户\" :visible.sync=\"editDialogVisible\" width=\"30%\">\r\n      <!-- 内容主题区域:表单 -->\r\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"70px\" @close=\"editFormClosed\">\r\n        <el-form-item label=\"用户名\" >\r\n          <el-input v-model=\"editForm.username\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号\"  prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\" ></el-input>\r\n        </el-form-item>\r\n        </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    \r\n    <!-- 弹出分配角色对话框 -->\r\n    <el-dialog title=\"分配角色\"  :visible.sync=\"setRoleDialogVisible\"  width=\"30%\" @close=\"setRoleDialogClosed\">\r\n      <div>\r\n        <p>当前用户:{{ userInfo.username }}</p>\r\n        <p>当前角色:{{ userInfo.role_name }}</p>\r\n        <!-- 分配角色 -->\r\n        <p>分配新角色\r\n          <el-select v-model=\"selectedRoles\" placeholder=\"请选择\">\r\n            <el-option v-for=\"item in roleList\" :key=\"item.id\"  :label=\"item.roleName\"  :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </p> \r\n      </div>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"saveRoleInfo\">确 定</el-button>\r\n    </span>\r\n  </el-dialog>\r\n    \r\n</div>\r\n    \r\n</template>\r\n<script>\r\n\r\nexport default {\r\n    data(){\r\n      // 验证邮箱的校验规则\r\n      var checkEmail=(rule,value,callback)=>{\r\n          let reg=/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/\r\n        //  如果符合校验规则 则直接返回\r\n          if (reg.test(value)) {\r\n              return callback()\r\n          } \r\n          callback(new Error('请输入合法的邮箱'))\r\n        }\r\n      // 验证手机号的校验规则\r\n      var checkMobile=(rule,value,callback)=>{\r\n          let reg=/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/\r\n            //  如果符合校验规则 则直接返回\r\n              if (reg.test(value)) {\r\n                // 直接return 代表校验通过\r\n                  return callback()\r\n              } \r\n              callback(new Error('请输入合法的手机号'))\r\n    }\r\n      return {\r\n            queryInfo:{\r\n                query:'',\r\n                // 页码值\r\n                pagenum:1,\r\n                // 当前页码显示数据量\r\n                pagesize:2\r\n            },\r\n            userList:[],\r\n            total:0,\r\n            // 控制添加,修改,分配角色的显示与隐藏\r\n            addDialogVisible:false,\r\n            editDialogVisible:false,\r\n            setRoleDialogVisible:false,\r\n            addForm:{\r\n              username:'',\r\n              password:'',\r\n              email:'',\r\n              mobile:'',\r\n            },\r\n            addFormRules:{\r\n              username: [\r\n                  { required: true, message: '请输入用户名', trigger: 'blur' },\r\n                  { min: 3, max: 10, message: '长度在 3 到 10 个字符', trigger: 'blur' }\r\n                ],\r\n          password: [\r\n                  { required: true, message: '请输入密码', trigger: 'blur' },\r\n                  { min: 6, max: 15, message: '长度在 6 到 15 个字符', trigger: 'blur' }\r\n                ],\r\n          email: [\r\n                  { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n                  { validator: checkEmail, trigger:  ['blur', 'change'] }\r\n\r\n                ],\r\n          mobile: [\r\n                  { required: true, message: '请输入手机号', trigger: 'blur' },\r\n                  { validator: checkMobile, trigger: 'blur' }\r\n                ],\r\n\r\n            },\r\n            // 查询到的用户数据对象\r\n            editForm:{},\r\n            editFormRules:{\r\n               email: [\r\n                  { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n                  { validator: checkEmail, trigger:  ['blur', 'change'] }\r\n\r\n                ],\r\n              mobile: [\r\n                      { required: true, message: '请输入手机号', trigger: 'blur' },\r\n                      { validator: checkMobile, trigger: 'blur' }\r\n                    ],\r\n            },\r\n            // 需要分配角色的个人信息\r\n            userInfo:{},\r\n            // 获取 角色列表数据\r\n            roleList:[],\r\n            // 被选中的角色\r\n            selectedRoles:''\r\n          }\r\n\r\n    },\r\n    created(){\r\n        // 获取后台数据\r\n        this.getUserList()\r\n    },\r\n    methods:{\r\n        async getUserList(){\r\n          const {data:res} =await this.$http.get('/users',{params:this.queryInfo})\r\n            if(res.meta.status!==200){\r\n                this.$message.error('获取数据失败')\r\n            }\r\n            this.userList=res.data.users\r\n            this.total=res.data.total\r\n        },  \r\n    // 监听pagesize的改变\r\n    handleSizeChange(newSize){\r\n        console.log(newSize)\r\n        this.queryInfo.pagesize=newSize\r\n        this.getUserList()\r\n    },\r\n    // 监听current当前页的改变\r\n    handleCurrentChange(newPage){\r\n        console.log(newPage)\r\n        this.queryInfo.pagenum=newPage\r\n        this.getUserList()\r\n    } ,\r\n    async  userStatusChange(userinfo){\r\n        // 发起put修改请求\r\n      const {data:res}= await this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n    //   console.log(res)\r\n    // 判断用户提交是否成功\r\n      if(res.meta.status!==200){\r\n        userinfo.mg_state=!userinfo.mg_state    \r\n        return    this.$message.error('更新用户状态失败')\r\n        }\r\n        this.$message.success('更新用户状态成功')\r\n    },\r\n    // 监听关闭添加对话框事件\r\n    addFormClosed(){\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 点击添加新用户功能\r\n    addUser(){\r\n      this.$refs.addFormRef.validate( async (vaild)=>{\r\n        if (!vaild) return ;\r\n        // 预校验成功，发起正式的网络请求 \r\n        const {data:res}= await this.$http.post('users',this.addForm)\r\n          console.log(res)\r\n          if (res.meta.status!=201) return this.$message.error('创建用户失败')\r\n          this.$message.success('创建用户成功')\r\n        // 关闭对话框\r\n          this.$refs.addFormRef.resetFields()\r\n        // 重新渲染用户列表\r\n          this.getUserList()\r\n    })\r\n  },\r\n  async showEditDialog(id){\r\n   const {data:res} =await this.$http.get('users/'+id)\r\n        if (res.meta.status!=200) return this.$message.error('查询用户失败')\r\n          this.$message.success('查询用户成功')\r\n          this.editForm= res.data\r\n   this.editDialogVisible=true;\r\n  },\r\n  // 监听关闭修改对话框事件\r\n    editFormClosed(){\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n      // 提交修改后的结果\r\n    editUserInfo(){\r\n      this.$refs.editFormRef.validate(async (valid)=>{\r\n          if (!valid) return;\r\n          // 预验证完成\r\n        const {data:res}= await  this.$http.put('users/'+this.editForm.id,{\r\n          email:this.editForm.email,\r\n          mobile:this.editForm.mobile\r\n        })\r\n        if (res.meta.status!=200) return this.$message.error('更新用户失败');\r\n\r\n        // 关闭对话框\r\n        this.editDialogVisible=false\r\n        // 更新数据\r\n        this.getUserList()\r\n        // 弹出更新成功数据\r\n        this.$message.success('更新用户成功')\r\n      })\r\n    },\r\n    // 删除用户\r\n    async removeUserById(id){\r\n      const confirmResult= await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).catch(err => err )\r\n        // 确认删除 返回值为confirm \r\n        // 取消删除 返回值为cancel \r\n        if (confirmResult!=='confirm' ){\r\n          return this.$message.info('已取消删除');\r\n        }\r\n        const {data:res}=await   this.$http.delete('users/'+id)\r\n        if (res.meta.status!=200) return this.$message.error('删除用户失败')\r\n          this.$message.success('删除用户成功')\r\n        // 关闭对话框\r\n          this.$refs.addFormRef.resetFields()\r\n        // 重新渲染用户列表\r\n          this.getUserList()     \r\n      },\r\n      // 展示分配角色对话框\r\n    async  setRole(userInfo){\r\n        this.userInfo=userInfo\r\n        const {data:res}=  await this.$http.get('roles')\r\n        if (res.meta.status!=200) return this.$message.error('获取角色列表失败')\r\n          this.roleList=res.data\r\n        this.setRoleDialogVisible=true\r\n      },\r\n      // 完成分配角色 发送请求\r\n    async saveRoleInfo(){\r\n          // 监听是否更换角色\r\n          if(!this.selectedRoles) return this.$message.error('请选择你要更换的角色！')\r\n          // 更换角色 上传服务器\r\n          const {data:res}=await this.$http.put(`users/${this.userInfo.id}/role`,{\r\n            // 选中的角色\r\n            rid:this.selectedRoles\r\n          })\r\n          // 无法对admin用户起作用 \r\n          if(res.meta.status!=200) return this.$message.error('设置角色失败')\r\n          this.$message.success('设置角色成功')\r\n          // 更新数据\r\n          this.getUserList()\r\n          // 关闭对话框\r\n          this.setRoleDialogVisible=false\r\n    },\r\n    // 监听关闭分配角色对话框 关闭后全部select重置\r\n    setRoleDialogClosed(){  \r\n        this.selectedRoles='',\r\n        this.userInfo={}\r\n\r\n    }\r\n\r\n      \r\n},\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=9e9d0b30&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e9d0b30\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","rightsList","scopedSlots","_u","key","fn","scope","row","level","staticRenderFns","data","created","getRightsList","methods","res","$http","get","meta","status","$message","error","success","component","on","$event","addRolesDialogVisible","rolesList","_l","children","item1","i1","id","class","removeRightById","_s","authName","staticClass","item2","i2","item3","i3","showEditDialog","removeRolesById","showSetRightDialog","addRolesFormClosed","ref","addRolesForm","addRolesFormRules","model","value","roleName","callback","$$v","$set","expression","roleDesc","slot","addRoles","editRolesDialogVisible","editRolesFormClosed","editRolesForm","editRolesFormRules","editRolesInfo","setRightDialogVisible","setRightDialogClosed","rightList","treeProps","defKeys","allotRights","required","message","trigger","label","roleId","getRolesList","$refs","addRolesFormRef","validate","vaild","post","resetFields","editRolesFormRef","valid","put","confirmResult","$confirm","confirmButtonText","cancelButtonText","type","catch","err","info","delete","role","rightId","getLeafKeys","node","arr","push","forEach","item","keys","treeRef","getCheckedKeys","getHalfCheckedKeys","keyStr","join","rids","getUserList","queryInfo","query","addDialogVisible","userList","userStatusChange","mg_state","removeUserById","setRole","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addFormClosed","addForm","addFormRules","username","password","email","mobile","addUser","editDialogVisible","editForm","editFormRules","editFormClosed","editUserInfo","setRoleDialogVisible","setRoleDialogClosed","userInfo","role_name","selectedRoles","roleList","saveRoleInfo","checkEmail","rule","reg","test","Error","checkMobile","min","max","validator","params","users","newSize","newPage","userinfo","addFormRef","editFormRef","rid"],"sourceRoot":""}